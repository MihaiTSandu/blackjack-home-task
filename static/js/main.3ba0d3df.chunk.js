(this["webpackJsonptake-home-blackjack"]=this["webpackJsonptake-home-blackjack"]||[]).push([[0],{27:function(e,n,t){"use strict";t.r(n);var r,a,c,o,i,u,s,d,b,l,h,j,p,f=t(0),m=t.n(f),x=t(14),O=t.n(x),k=t(2),v=t(3),g=t(18),y=t(4),w=t.n(y),C=t(6),S=t(5),T=t(11),E=t.n(T),I=t(29),A="https://blackjack.fuzz.me.uk",P=function(){var e=Object(C.a)(w.a.mark((function e(n){var t,r,a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(A,"/sit"),e.next=3,fetch(t,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:"balance=".concat(n)});case 3:return r=e.sent,e.next=6,r.json();case 6:if(a=e.sent,!r.ok){e.next=11;break}return e.abrupt("return",a);case 11:throw Error(a.validation.body.messsage);case 12:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),B=function(){var e=Object(C.a)(w.a.mark((function e(n,t){var r,a,c;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="".concat(A,"/deal"),e.next=3,fetch(r,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:"bet=".concat(n,"&sessionId=").concat(t)});case 3:return a=e.sent,e.next=6,a.json();case 6:if(c=e.sent,!a.ok){e.next=11;break}return e.abrupt("return",c);case 11:throw Error(c.validation.body.message);case 12:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),z=function(){var e=Object(C.a)(w.a.mark((function e(n,t){var r,a,c;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="".concat(A,"/turn"),e.next=3,fetch(r,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:"action=".concat(n,"&sessionId=").concat(t)});case 3:return a=e.sent,e.next=6,a.json();case 6:if(c=e.sent,!a.ok){e.next=11;break}return e.abrupt("return",c);case 11:throw Error(c.validation.body.message);case 12:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),D=function(){var e=Object(C.a)(w.a.mark((function e(n){var t,r,a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(A,"/stand"),e.next=3,fetch(t,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:"sessionId=".concat(n)});case 3:return r=e.sent,e.next=6,r.json();case 6:if(a=e.sent,!r.ok){e.next=11;break}return e.abrupt("return",a);case 11:throw Error(a.validation.body.message);case 12:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),F=t(1),H=function(e){var n=e.onClick,t=e.label,r=e.variant,a=void 0===r?"primary":r;return Object(F.jsx)(M,{"data-testid":"button",variant:a,type:"button",onClick:n,children:t})},J=Object(k.c)(r||(r=Object(v.a)(["\n  background-color: ",";\n  border-color: ",";\n  color: ",";\n\n  &:hover {\n    background-color: ",";\n    color: ",";\n  }\n"])),(function(e){return e.theme.background}),(function(e){return e.theme.primary}),(function(e){return e.theme.primary}),(function(e){return e.theme.primary}),(function(e){return e.theme.background})),L=Object(k.c)(a||(a=Object(v.a)(["\n  background-color: ",";\n  border-color: ",";\n  color: ",";\n\n  &:hover {\n    background-color: ",";\n    color: ",";\n  }\n"])),(function(e){return e.theme.secondary}),(function(e){return e.theme.secondary}),(function(e){return e.theme.background}),(function(e){return e.theme.background}),(function(e){return e.theme.secondary})),M=k.d.button(c||(c=Object(v.a)(["\n  ","\n  ","\n\n  border-width: 2px;\n  border-style: solid;\n  border-radius: 1.375rem;\n  cursor: pointer;\n  font-size: 1.25rem;\n  font-weight: 800;\n  padding: 0.25rem 1.5rem;\n  text-transform: uppercase;\n"])),(function(e){return"primary"===e.variant?J:""}),(function(e){return"secondary"===e.variant?L:""})),R="sit",W=function(e){var n=e.value,t=e.onAmountChange,r=e.onClick;return Object(F.jsxs)(Y,{"data-testid":"betAmountInput",children:[Object(F.jsx)(q,{"data-testid":"betInput",placeholder:"Bet amount (10-1000)",type:"number",max:"1000",min:"10",value:n||"",onInput:function(e){try{t(parseInt(e.target.value,10))}catch(n){console.error("Could not parse bet amount input value")}}}),Object(F.jsx)(H,{"data-testid":"button",variant:"primary",onClick:r,label:R})]})},Y=k.d.div(o||(o=Object(v.a)(["\n  text-align: center;\n"]))),q=k.d.input(i||(i=Object(v.a)(["\n  background-color: transparent;\n  border: 0;\n  border-bottom: 0.0625rem solid ",";\n  border-left: 0.1875 solid ",";\n  color: ",";\n  font-size: 1.25rem;\n  padding: 0.75rem 1rem;\n  min-width: 15rem;\n  margin-right: 0.5rem;\n\n  :focus {\n    background: ",";\n    outline: none;\n  }\n"])),(function(e){return e.theme.border}),(function(e){return e.theme.primary}),(function(e){return e.theme.text}),(function(e){return e.theme.backgroundFocus})),G="Blackjack",K="You must first sit at a table!",N="Must place a bet between 10 and 1000",Q="Win Amount",U="Round Ended",V="Rounds Played",X="Balance Change",Z="Stay",$="Hit",_="Stand",ee="Deal";function ne(){var e=Object(f.useState)(),n=Object(S.a)(e,2),t=n[0],r=n[1],a=Object(f.useState)([]),c=Object(S.a)(a,2),o=c[0],i=c[1],u=Object(f.useState)(""),s=Object(S.a)(u,2),d=s[0],b=s[1],l=Object(f.useState)(),h=Object(S.a)(l,2),j=h[0],p=h[1],m=Object(f.useState)([]),x=Object(S.a)(m,2),O=x[0],k=x[1],v=Object(f.useState)([]),y=Object(S.a)(v,2),T=y[0],A=y[1],J=Object(f.useState)(!1),L=Object(S.a)(J,2),M=L[0],R=L[1],Y=Object(f.useState)(),q=Object(S.a)(Y,2),ne=q[0],te=q[1],ce=Object(f.useState)(),be=Object(S.a)(ce,2),le=be[0],he=be[1],je=Object(f.useState)(),pe=Object(S.a)(je,2),fe=pe[0],me=pe[1],xe=Object(f.useState)(),Oe=Object(S.a)(xe,2),ke=Oe[0],ve=Oe[1],ge=function(){var e=Object(C.a)(w.a.mark((function e(){var n,r,a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0===t||t<10||t>1e3)){e.next=4;break}alert(N),e.next=21;break;case 4:return e.prev=4,e.next=7,P(t);case 7:n=e.sent,r=n.availableBetOptions,a=n.sessionId,he(t),b(a),i(r),p(j),me(void 0),ve(void 0),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(4),alert(e.t0);case 21:case"end":return e.stop()}}),e,null,[[4,18]])})));return function(){return e.apply(this,arguments)}}(),ye=function(){var e=Object(C.a)(w.a.mark((function e(){var n,t,r;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!d){e.next=21;break}return e.prev=1,e.next=4,D(d);case 4:n=e.sent,t=n.winAmount,r=n.roundsPlayed,me(t),ve(r),i([]),A([]),k([]),R(!1),he(void 0),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),alert(e.t0);case 19:e.next=22;break;case 21:alert(K);case 22:case"end":return e.stop()}}),e,null,[[1,16]])})));return function(){return e.apply(this,arguments)}}(),we=function(){var e=Object(C.a)(w.a.mark((function e(){var n,t,r,a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!d){e.next=18;break}return e.prev=1,e.next=4,B(j||0,d);case 4:n=e.sent,t=n.playerCards,r=n.dealerCards,a=n.roundEnded,A(r),k(t),R(a),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),alert(e.t0);case 16:e.next=19;break;case 18:alert(K);case 19:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(){return e.apply(this,arguments)}}(),Ce=function(){var e=Object(C.a)(w.a.mark((function e(n){var t,r,a,c,o,i,u,s,b,l;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!d){e.next=34;break}if(e.prev=1,"hit"!==n){e.next=16;break}return e.next=5,z(n,d);case 5:t=e.sent,r=t.playerCard,a=t.roundEnded,c=t.currentBalance,o=t.winAmount,k([].concat(Object(g.a)(O),[r])),R(a),te(o),he(c),e.next=27;break;case 16:return e.next=18,z(n,d);case 18:i=e.sent,u=i.dealerCards,s=i.roundEnded,b=i.winAmount,l=i.currentBalance,A(u),R(s),te(b),he(l);case 27:e.next=32;break;case 29:e.prev=29,e.t0=e.catch(1),alert(e.t0);case 32:e.next=35;break;case 34:alert(K);case 35:case"end":return e.stop()}}),e,null,[[1,29]])})));return function(n){return e.apply(this,arguments)}}();return Object(F.jsxs)(ue,{"data-testid":"gamePage",children:[Object(F.jsx)(de,{children:G}),Object(F.jsx)(W,{value:t,onAmountChange:function(e){return r(e)},onClick:ge}),Object(F.jsxs)(se,{children:[Object(F.jsx)(H,{variant:"secondary",onClick:we,label:ee}),Object(F.jsx)(H,{variant:"secondary",onClick:function(){Ce("hit")},label:$}),Object(F.jsx)(H,{variant:"secondary",onClick:function(){Ce("stay")},label:Z}),Object(F.jsx)(H,{variant:"secondary",onClick:ye,label:_})]}),le&&Object(F.jsxs)("h2",{children:["Available money ",le]}),Object(F.jsx)(ie,{children:o.map((function(e){return Object(F.jsx)(oe,{selected:e===j,onClick:function(){return p(e)},children:e},e)}))}),Object(F.jsxs)(re,{children:[T.length>0&&Object(F.jsx)("h2",{children:"Dealer"}),Object(F.jsx)(ae,{children:T.map((function(e){return Object(F.jsx)(E.a,{card:"".concat("10"===e.rank.toString()?"T":e.rank).concat(e.suite[0].toLowerCase()),height:"128px"},Object(I.a)())}))}),O.length>0&&Object(F.jsx)("h2",{children:"Player"}),Object(F.jsx)(ae,{children:O.map((function(e){return Object(F.jsx)(E.a,{card:"".concat("10"===e.rank.toString()?"T":e.rank).concat(e.suite[0].toLowerCase()),height:"128px"},Object(I.a)())}))}),M&&Object(F.jsxs)("h2",{children:[U,". ",X," ",ne<1?Object(F.jsxs)("span",{children:[" ",ne]}):Object(F.jsxs)("span",{children:[" +",ne]})]}),fe&&Object(F.jsxs)("h2",{children:[Q," ",fe]}),ke&&Object(F.jsxs)("h2",{children:[V," ",ke]})]})]})}var te,re=k.d.div(u||(u=Object(v.a)(["\n  align-content: center;\n  align-items: center;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n"]))),ae=k.d.div(s||(s=Object(v.a)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  margin-top: 1.25rem;\n"]))),ce=Object(k.c)(d||(d=Object(v.a)(["\n  background-color: ",";\n  color: ",";\n"])),(function(e){return e.theme.background}),(function(e){return e.theme.primary})),oe=k.d.button(b||(b=Object(v.a)(["\n  background-color: ",";\n  border-color: ",";\n  color: ",";\n\n  ","\n\n  border-radius: 100%;\n  cursor: pointer;\n  border-width: 2px;\n  border-style: solid;\n  font-size: 1.5rem;\n  width: 3.75rem;\n  height: 3.75rem;\n  text-align: center;\n\n  &:hover {\n    ","\n  }\n"])),(function(e){return e.theme.primary}),(function(e){return e.theme.primary}),(function(e){return e.theme.background}),(function(e){return e.selected?ce:""}),ce),ie=k.d.div(l||(l=Object(v.a)(["\n  margin-top: 2.5rem;\n\n  "," {\n    margin-right: 0.5rem;\n\n    &:last-child {\n      margin-right: 0;\n    }\n  }\n"])),oe),ue=k.d.div(h||(h=Object(v.a)(["\n  align-items: center;\n  display: flex;\n  flex-direction: column;\n  padding-bottom: 2.5rem;\n"]))),se=k.d.div(j||(j=Object(v.a)(["\n  margin-top: 2.5rem;\n\n  * {\n    margin-right: 0.5rem;\n\n    &:last-child {\n      margin-right: 0;\n    }\n  }\n"]))),de=k.d.h1(p||(p=Object(v.a)(["\n  color: ",";\n"])),(function(e){return e.theme.primary})),be=Object(k.b)(te||(te=Object(v.a)(["\n  html,\n  body {\n    height: 100%;\n    width: 100%;\n    margin: 0;\n    padding: 0;\n  }\n\n  body {\n    background-color: ",";\n    color: ",";\n  }\n"])),(function(e){return e.theme.background}),(function(e){return e.theme.text})),le={dark:{primary:"#7ff800",secondary:"#fce403",border:"#000",background:"#171717",backgroundFocus:"#2e2e2e",text:"#717171",textHover:"#fff"}},he=function(){return Object(F.jsxs)(k.a,{theme:le.dark,children:[Object(F.jsx)(be,{}),Object(F.jsx)(ne,{})]})};O.a.render(Object(F.jsx)(m.a.StrictMode,{children:Object(F.jsx)(he,{})}),document.getElementById("root"))}},[[27,1,2]]]);
//# sourceMappingURL=main.3ba0d3df.chunk.js.map